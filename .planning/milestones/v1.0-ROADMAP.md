# Milestone v1.0: UI Enhancements

**Status:** SHIPPED 2026-02-02
**Phases:** 1-3
**Total Plans:** 4

## Overview

This milestone delivered three user-facing improvements to JackedLog: a total workout time statistic, the ability to edit completed workouts, and drag-drop reordering for notes. Phases were ordered by risk — quick wins first (no schema changes), edit functionality second (high value, established patterns), and notes reorder last (requires database migration). All features leveraged existing codebase patterns from `start_plan_page.dart` and `gym_sets.dart`.

## Phases

### Phase 1: Quick Wins

**Goal**: Users see total workout time stats and have a cleaner history UI
**Depends on**: Nothing (first phase)
**Plans**: 1 plan

Plans:
- [x] 01-01-PLAN.md — Total time stat card and history menu cleanup

**Details:**
- Added Total Time stat card to overview page showing accumulated workout duration
- SQL query aggregates (end_time - start_time) for workouts in selected period
- Format: "Xh Ym" or "0h 0m" when no workouts
- Removed three-dots menu from history search bar via showMenu parameter

### Phase 2: Edit Workout

**Goal**: Users can correct mistakes in completed workouts
**Depends on**: Phase 1
**Plans**: 2 plans

Plans:
- [x] 02-01-PLAN.md — Edit mode foundation (toggle, name editing, exercise add/remove/reorder)
- [x] 02-02-PLAN.md — Set editing (weight/reps/type/add/delete) and selfie relocation

**Details:**
- Edit mode toggle with visual indicator (tertiaryContainer tint)
- Workout name editable via tappable title with dialog
- Exercise management: add via ExercisePickerModal, remove with confirmation, reorder via drag-drop
- Inline set editing: weight/reps inputs, add warmup/working/drop sets, delete sets, change set type
- Selfie feature moved from top bar to edit mode app bar
- PopScope with discard confirmation for unsaved changes
- PR cache cleared on weight/reps modifications

### Phase 3: Notes Reorder

**Goal**: Users can organize notes in their preferred order
**Depends on**: Phase 2
**Plans**: 1 plan

Plans:
- [x] 03-01-PLAN.md — Notes sequence migration and reorder UI

**Details:**
- Database v62 migration adds sequence column to notes table
- Backfill assigns sequence based on updated timestamp (most recent = top)
- ReorderableListView.builder with long-press drag
- proxyDecorator for visual lift effect during drag
- Batch update sequences on reorder
- New notes get highest sequence (appear at top)
- Reorder disabled during search

---

## Milestone Summary

**Decimal Phases:**
- None (clean execution with no urgent insertions)

**Key Decisions:**
- Phase order based on risk: stats first, edit second, notes migration last
- List layout for notes reorder (not grid) to use ReorderableListView
- Icons.schedule for time stat (Material Design convention)
- Format time as 'Xh Ym' for human-readable duration
- tertiaryContainer color for edit mode visual indicator
- Separate _isReorderMode from _isEditMode for better scrolling UX
- Sequence stored descending (highest = top) for natural ordering

**Issues Resolved:**
- None — clean execution

**Issues Deferred:**
- NOTES-03: Drag-drop in grid layout (requires custom implementation or package)
- EDIT-10: Bulk edit multiple sets at once
- STATS-02: Average workout duration stat

**Technical Debt Incurred:**
- None

---

*For current project status, see .planning/ROADMAP.md*
